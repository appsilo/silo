#!/usr/bin/env python3

import importlib, pkgutil
from Hako import Commands

import sys
print(sys.argv)

# To Do:
# Load all commands
# Automatically set all of them up with argparse
# Implement directory command / run as default (no arguments)

def loadCommands(commands):
    loaded = []
    for (importer, modname, ispkg) in pkgutil.walk_packages(commands.__path__, commands.__name__ + '.'):
        if not ispkg:
            cmdClass = getattr(importlib.import_module(modname), modname.split('.')[-1])
            loaded.append({
                'name': cmdClass.__name__,
                'signature': cmdClass().signature,
            })
    return loaded


print(loadCommands(Commands))